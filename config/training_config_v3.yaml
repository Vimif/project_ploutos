# config/training_config_v3.yaml
# Configuration Entraînement V3 ULTIMATE - Ploutos Trading IA

training:
  # Durée totale
  total_timesteps: 10000000  # 10M steps (~3-5h sur RTX 3080)
  
  # Parallélisation
  n_envs: 16  # 16 environnements parallèles
  
  # Batch config
  batch_size: 8192  # Large batch pour stabilité
  n_steps: 4096    # Steps par environnement avant update
  n_epochs: 20     # Epochs par update
  
  # Learning rate
  learning_rate: 0.00005  # 5e-5, très stable
  
  # Discount & GAE
  gamma: 0.995       # Discount factor (long terme)
  gae_lambda: 0.98   # GAE parameter
  
  # PPO specific
  clip_range: 0.2          # Clip range PPO
  ent_coef: 0.01           # Entropy coefficient (exploration)
  vf_coef: 0.5             # Value function coefficient
  max_grad_norm: 0.5       # Gradient clipping
  target_kl: 0.015         # Adaptive KL divergence

environment:
  # Capital
  initial_balance: 100000
  
  # Frais Alpaca réels
  commission: 0.0        # Alpaca = commission-free
  sec_fee: 0.0000221     # SEC fee 0.00221%
  finra_taf: 0.000145    # FINRA TAF 0.0145%
  
  # Episode
  max_steps: 3000  # ~3000 steps = plusieurs mois
  
  # Trading
  buy_pct: 0.15            # 15% du capital par trade
  max_position_pct: 0.25   # Max 25% par position
  max_trades_per_day: 4    # PDT rule
  min_holding_period: 5    # Min 5 steps avant revendre
  
  # Réalisme
  slippage_model: realistic  # 'none', 'simple', 'realistic'
  spread_bps: 2.0           # 2 bps de spread
  market_impact_factor: 0.0001
  
  # Rewards
  reward_scaling: 1.0
  use_sharpe_penalty: true
  use_drawdown_penalty: true

data:
  tickers:
    # Tech giants
    - NVDA
    - MSFT
    - AAPL
    - GOOGL
    - AMZN
    - META
    - TSLA
    
    # Indices
    - SPY
    - QQQ
    - VOO
    - VTI
    
    # Secteurs
    - XLE   # Energy
    - XLF   # Finance
    - XLK   # Tech
    - XLV   # Health
    
  period: '5y'      # 5 ans de données
  interval: '1h'    # Horaire

network:
  # Architecture profonde
  net_arch:
    - 1024
    - 512
    - 256
  
  activation_fn: tanh  # 'tanh' ou 'relu'

wandb:
  enabled: true
  project: Ploutos_Trading_V3_ULTIMATE
  entity: null  # Votre username W&B

# Checkpoints
checkpoint:
  save_freq: 50000
  save_path: ./models/v3_checkpoints/

# Evaluation
eval:
  eval_freq: 10000
  n_eval_episodes: 5
  best_model_save_path: ./models/v3_best/
